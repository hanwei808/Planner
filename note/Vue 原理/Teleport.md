# Teleport

## 是什么

Vue 3 的 Teleport 是一个新的核心特性，它允许我们将子组件的模板部分“传送”到 DOM 中的任何位置，而不仅仅是在当前组件的模板内。这对于处理一些特定的 UI 挑战非常有用，例如创建模态框、弹出窗口或通知等。

这个特性的实现基于一个新的 `<teleport>` 组件，该组件接受一个 `to` 属性，该属性指定了我们希望将内容传送到的目标元素的选择器。

例如，我们可以创建一个模态窗口组件，其内容被传送到页面的根元素下：

```vue
<template>
  <teleport to="body">
    <div class="modal">
      <!-- 模态窗口的内容 -->
    </div>
  </teleport>
</template>
```

在这个例子中，尽管模态窗口组件可能被嵌套在页面的深处，但其内容会被传送到页面的 body 元素下，从而避免了一些由于 CSS 层叠上下文和 overflow 属性引起的 UI 问题。

Teleport 还提供了一个 `disabled` 属性，我们可以使用它来动态决定是否启用 teleport。如果 `disabled` 属性被设置为 `true`，那么内容将会在原地渲染，而不是被传送：

```vue
<template>
  <teleport to="body" :disabled="isDisabled">
    <div class="modal">
      <!-- 模态窗口的内容 -->
    </div>
  </teleport>
</template>

<script>
export default {
  data() {
    return {
      isDisabled: true,
    };
  },
};
</script>
```

在这个例子中，如果 `isDisabled` 的值为 `true`，那么模态窗口的内容将会在原地渲染，而不是被传送到 body 元素下。

## 使用场景

Vue 3 的 Teleport 特性在处理一些特定的 UI 挑战时非常有用。下面是一些常见的使用场景：

1. **模态窗口和对话框**：模态窗口和对话框通常需要覆盖整个页面或其大部分内容，而不是仅仅覆盖其父组件。使用 Teleport，我们可以将模态窗口的内容传送到页面的根元素下，从而避免了一些由于 CSS 层叠上下文和 overflow 属性引起的 UI 问题。

2. **弹出菜单和工具提示**：弹出菜单和工具提示也是类似的情况。它们通常需要显示在其他元素的上方，而不是仅仅显示在其父组件内。使用 Teleport，我们可以将这些元素的内容传送到 DOM 的任何位置，从而确保它们能够正确地显示在其他元素的上方。

3. **通知和提示**：通知和提示通常需要显示在页面的顶部或底部，而不是仅仅显示在其父组件内。使用 Teleport，我们可以将这些元素的内容传送到页面的根元素下，从而确保它们能够在页面的顶部或底部正确地显示。

4. **全局加载/进度指示器**：这些通常需要覆盖整个应用或者在顶部显示一条进度条。借助 Teleport，我们可以将这些元素的内容传送到页面的根元素下，从而确保它们能在整个应用中正确显示。

总的来说，任何需要将内容渲染到父组件之外的情况都可以考虑使用 Teleport。
