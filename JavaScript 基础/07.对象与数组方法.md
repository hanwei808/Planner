## 拷贝

### 浅拷贝

- object.assign(target, ...sources)

> 不会拷贝对象的继承属性
> 不会拷贝对象的不可枚举属性
> 可以拷贝 Symbol 类型的属性
> 只拷贝对象一层

- 扩展运算符方式
- concat()
- slice()

### 深拷贝

- JSON.stringify()
  - 拷贝的对象的值中如果有函数、undefined、symbol 这几种类型，经过 JSON.stringify 序列化之后的字符串中这个键值对会消失
  - 拷贝 Date 引用类型会变成字符串
  - 无法拷贝不可枚举的属性
  - 无法拷贝对象的原型链
  - 拷贝 RegExp 引用类型会变成空对象
  - 对象中含有 NaN、Infinity，JSON 序列化的结果会变成 null
  - 无法拷贝对象的循环应用，即对象成环（obj[key] = obj）
- 改进递归实现深拷贝
  - 使用 Reflect.ownKeys 方法，遍历对象的不可枚举属性以及 Symbol 类型
  - 当参数为 Date、RegExp 类型，则直接生成一个新的实例返回
  - 利用 Object 的 getOwnPropertyDescriptors 方法获取对象的所有属性和特性，结合 Object 的 create 方法创建一个新对象，并继承传入原对象的原型链
  - 利用 WeakMap 类型作为 Hash 表，防止内存泄露，解决循环引用
